<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Amiga Disk File Explorer • adfExplorer</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Amiga Disk File Explorer">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">adfExplorer</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.8</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/amigaDiskFiles.html">Amiga Disk File Explorer</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/pepijn-devries/adfExplorer/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Amiga Disk File Explorer</h1>
                        <h4 data-toc-skip class="author">Pepijn de
Vries</h4>
            
            <h4 data-toc-skip class="date">2024-12-16</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/pepijn-devries/adfExplorer/blob/master/vignettes/amigaDiskFiles.Rmd" class="external-link"><code>vignettes/amigaDiskFiles.Rmd</code></a></small>
      <div class="d-none name"><code>amigaDiskFiles.Rmd</code></div>
    </div>

    
    
<p>Although the adfExplorer package is well documented, information is
scattered over various methods, functions and data. This vignette
attempts to provide a more complete overview of the package and its
background.</p>
<div class="section level2">
<h2 id="amiga-disk-files---introduction">Amiga Disk Files - Introduction<a class="anchor" aria-label="anchor" href="#amiga-disk-files---introduction"></a>
</h2>
<p>The Commodore Amiga was a home computer that relied heavily on it’s
build-in 3.5 inch floppy disk drive in the late eighties and early
nineties. The Amiga was a popular system which nowadays can be
accurately <a href="https://en.wikipedia.org/wiki/Amiga_emulation" class="external-link">emulated</a> on
modern machines. A problem with the emulation of the Amiga is that most
modern machines no longer have floppy disk drives. And if they do, they
are usually physically not able to read Amiga formatted disks. To
overcome this problem, the Amiga Disk File (ADF) was created. Such files
are a virtual representation of a floppy disks which can be used in
emulation.</p>
<div class="section level3">
<h3 id="legal-issues">Legal issues<a class="anchor" aria-label="anchor" href="#legal-issues"></a>
</h3>
<p>Emulating the Commodore Amiga hardware is, as far as I can tell,
legal. However, the Amiga had its operating system stored on a read only
memory chip. Which is commonly referred to as the kickstart. This
kickstart software is still protected by copyright law. Licensed copies
can be bought legally from <a href="https://www.amigaforever.com" class="external-link">AmigaForever</a>. The same is true
for much of the Amiga software, which is still protected by
copyright.</p>
<p>Note that for analysing ADF files with the adfExplorer package you
don’t need the kickstart software. Just make sure the ADF files you use
contain data or software for which you own (or don’t need) a
licence.</p>
</div>
</div>
<div class="section level2">
<h2 id="the-adfexplorer-package">The adfExplorer package<a class="anchor" aria-label="anchor" href="#the-adfexplorer-package"></a>
</h2>
<p>This package will allow you to analyse Amiga Disk Files (ADF) with
the R scripting language. It can also be used to transfer files from and
to ADF in batches, e.g. for preparing disks for emulation purposes.</p>
<p>The focus will be on the older Amiga operating systems (i.e., OS 3.x
and less), as I am most familiar with those systems. In newer versions
floppy disks became less important anyway. Note that this package cannot
read extended ADF files containing information on the disk’s <a href="https://en.wikipedia.org/wiki/Modified_Frequency_Modulation" class="external-link">Modified
Frequency Modulation (MFM)</a>. This information is typically only
required for copy protected disk’s and is therefore out of the scope of
this package.</p>
<div class="section level3">
<h3 id="future-developments">Future developments<a class="anchor" aria-label="anchor" href="#future-developments"></a>
</h3>
<p>For the developmental status of this package, please consult the <a href="https://pepijn-devries.github.io/adfExplorer/">README
page</a>.</p>
</div>
</div>
<div class="section level2">
<h2 id="technical-background">Technical background<a class="anchor" aria-label="anchor" href="#technical-background"></a>
</h2>
<p>Some technical details will be presented here, as they will help you
better understand some of the package functionalities. I will not
discuss the ADF format in depth. A more detailed description can be
found in the <a href="http://lclevy.free.fr/adflib/adf_info.html" class="external-link">FAQ</a> by Laurent
Clévy. In fact, I used that document as the main source of information
during the development of this package; it is a very accurate
description of the ADF format.</p>
<p>A physical Amiga floppy disk is divided into 80 cylinders, on 2
tracks or sides, which contain 11 (double density (DD) disk) or 22 (high
density (HD) disk) sectors or blocks. So in total a disk is composed of
either 1,760 or 3,520 blocks. Each block holds 512 bytes of information.
An Amiga Disk File (ADF) is dump of such ordered blocks in a file. The
adfExplorer package represents ADF files as <code>amigaDisk</code>
objects. A completely blank disk can be created using the object
constructor (<code>new</code>).</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/pepijn-devries/adfExplorer" class="external-link">adfExplorer</a></span><span class="op">)</span></span>
<span><span class="va">blank.disk</span> <span class="op">&lt;-</span> <span class="fu">new</span><span class="op">(</span><span class="st">"amigaDisk"</span><span class="op">)</span></span></code></pre></div>
<p>The blocks on Amiga disks are represented by <code>amigaBlock</code>
objects, which can be created with the constructor, or it can be
extracted from an <code>amigaDisk</code> object.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## Create with constructor:</span></span>
<span><span class="va">blank.block</span> <span class="op">&lt;-</span> <span class="fu">new</span><span class="op">(</span><span class="st">"amigaBlock"</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## Extract the first block from an amigaDisk object:</span></span>
<span><span class="va">blank.block</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/amigaBlock-class.html">amigaBlock</a></span><span class="op">(</span><span class="va">blank.disk</span>, block <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span></code></pre></div>
<p>The relationship between the physical location on the disk and the
block identifier can be obtained with the <code>get.blockID</code>
method.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/get.blockID.html">get.blockID</a></span><span class="op">(</span>disktype <span class="op">=</span> <span class="st">"DD"</span>, sector <span class="op">=</span> <span class="fl">4</span>, side <span class="op">=</span> <span class="fl">0</span>, cylinder <span class="op">=</span> <span class="fl">35</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 774</span></span></code></pre>
<p>Note that the identifiers have a base index of zero as opposed to one
used by R. The physical location can also be calculated from the block
identifier with the <code>get.diskLocation</code> method.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/get.diskLocation.html">get.diskLocation</a></span><span class="op">(</span>disktype <span class="op">=</span> <span class="st">"DD"</span>, block <span class="op">=</span> <span class="fl">1231</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## $sector</span></span>
<span><span class="co">## [1] 10</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $side</span></span>
<span><span class="co">## [1] 1</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $cylinder</span></span>
<span><span class="co">## [1] 55</span></span></code></pre>
<p>The completely <code>blank.disk</code> created earlier with the
constructor can hold any kind of data. However, in order to hold files,
the disk needs to be formatted with a specific file system. That way,
the Amiga Disk Operating System (DOS) can access it. We can use the
<code>blank.amigaDOSDisk</code> method to create a blank disk,
structured such that it can hold files.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">blank.disk</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/blank.amigaDOSDisk.html">blank.amigaDOSDisk</a></span><span class="op">(</span>diskname <span class="op">=</span> <span class="st">"empty"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/print.html">print</a></span><span class="op">(</span><span class="va">blank.disk</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">## Amiga (DD) Disk File:</span></span>
<span><span class="co">##  Type:           bootable DOS</span></span>
<span><span class="co">##  Volume name:        empty</span></span>
<span><span class="co">##  percentage full:    0.2%</span></span>
<span><span class="co">##  Fast File System:   FALSE</span></span>
<span><span class="co">##  International mode: FALSE</span></span>
<span><span class="co">##  Direct cache mode:  FALSE</span></span></code></pre>
<p>As you can see, although it is blank, it is not completely empty.
This is because the file system also consumes disk space. To understand
this you need to know a bit more about the Amiga’s file system and the
way information is stored in blocks on the disk. This will be discussed
to some extent.</p>
<div class="section level3">
<h3 id="filesystem">File systems on the Amiga<a class="anchor" aria-label="anchor" href="#filesystem"></a>
</h3>
<p>With Amiga OS version 2.0, the so-called Fast File System (FFS) was
introduced. The previous file system was not named at the time, but is
now commonly referred to as the Old File System (OFS). The OFS
sacrifices disk space for validation purposes, making it more robust in
case of data recovery when a disk got damaged. This advantage was
dropped with the FFS making it slightly faster (on original machines)
and gaining disk space for file data. The FFS does not have backward
compatability. So disks formatted with this file systems cannot be read
by Amiga OS versions &lt;2.0.</p>
<p>In OS version 2.0 the ‘international mode’ was also introduced. This
mode was meant to correct for a mistake in the routine to convert text
into upper case. On the Amiga file names can have both lower and upper
case characters. But during file name matching, the case is ignored. For
that purpose, file names are shifted to upper case in file name matching
routines.</p>
<p>The Amiga uses the ISO 8859 Latin-1 character set, where in older
operating systems (&lt;2.0), international characters (e.g., ‘ø’) were
not capitalised. This mistake was corrected in OS 2.0, but is optional.
In combination with the ‘directory cache mode’ (see below), the
international mode is mandatory.</p>
<p>With Amiga OS 3.0, the ‘<a href="#dircacheblock">directory cache
mode</a>’ was introduced. With the direct cache mode, one or more blocks
are stored for each directory (including the root) with basic
information about the files stored in that directory. In older versions,
the directory <a href="#headerblock">header</a> only stored pointers to
the files in that directory. This meant that in older OS versions the
header of each file needed to be loaded to list all files in that
directory. As with the directory cache mode all information was stored
in one (or more when necessary) block, it was faster at listing
directory content. On the original machine that is, as floppy disk
drives were pretty slow.</p>
<p>Information is stored in separate blocks, where each block is
composed of 512 bytes. So even when a file is 10 bytes long, it will
still consume at least 512 bytes of disk space. There are several
different types of blocks, carnying different types of information. Some
of them will be discussed below.</p>
<p>Instead of working with a blank disk, it can be more informative to
work with a disk with some data on it. From here on let’s work with the
example <code>amigaDisk</code> object provided with the package.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"adf.example"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="bootblock">The bootblock<a class="anchor" aria-label="anchor" href="#bootblock"></a>
</h3>
<p>The bootblock are actually the first two blocks on an Amiga disk:
<code>amigaBlock(adf.example, 0)</code> and
<code>amigaBlock(adf.example, 1)</code>. When the Commodore Amiga system
boots, it will first load these blocks in memory and uses this to check
what type of disk it is. Any executable code on this block will be run
when the bootblock checksum is valid. When the system is already booted
when the disk is inserted, the bootblock will just be used to determine
what type of disk it represents.</p>
</div>
<div class="section level3">
<h3 id="the-root-block">The root block<a class="anchor" aria-label="anchor" href="#the-root-block"></a>
</h3>
<p>The root block holds information on the files and directories in the
root of the disk. It also holds information on the disk name, creation
and modification date. It is usually situated at the centre of the
blocks, at block 880 for DD disks.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/amigaBlock-class.html">amigaBlock</a></span><span class="op">(</span><span class="va">adf.example</span>, <span class="fl">880</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="the-bitmap-block">The bitmap block<a class="anchor" aria-label="anchor" href="#the-bitmap-block"></a>
</h3>
<p>The bitmap block, contains information about which blocks on the disk
are in use and which are free. The first four bytes in this block form a
checksum, the following 220 bytes (for a DD disk, twice as many for a HD
disk). Each byte is composed of 8 bits. When a bit is set, it represents
a used block, when it is not set, it reflects a free block. The bitmap
block is usually situated next to the root block, at block 881 on a DD
disk.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/amigaBlock-class.html">amigaBlock</a></span><span class="op">(</span><span class="va">adf.example</span>, <span class="fl">881</span><span class="op">)</span></span></code></pre></div>
<p>The bitmap is thus used to allocate free blocks on the disk to put
new files. When files are removed (and blocks) are thus freed, this will
also be marked in the bitmap. The bitmap is also used to calculate the
free space on a disk.</p>
</div>
<div class="section level3">
<h3 id="headerblock">Header blocks<a class="anchor" aria-label="anchor" href="#headerblock"></a>
</h3>
<p>As indicated before, files are stored as 512 blocks. But not only the
file data is written to the disk. Information about the file (i.e., the
file name, it’s size, where to find the data on the disk etc.) also
needs to be stored. This block, containing information on the file (or
directory) is called a header block. Each file, directory or link on the
disk starts with a header block. The root block is a special case of a
header block; it marks the root directory.</p>
<p>Header blocks of directories contain pointers to the files (and
directories) in that directory. Header blocks of files contain pointers
to data blocks, containing the data of the file.</p>
</div>
<div class="section level3">
<h3 id="data-blocks">Data blocks<a class="anchor" aria-label="anchor" href="#data-blocks"></a>
</h3>
<p>In the Fast <a href="#filesystem">File System</a>, the data blocks
are only composed of file data; nothing else. The location of the data
blocks are provided in the file’s header. In the Old <a href="#filesystem">File System</a>, each data block contains additional
information, most importantly: a pointer to the next data block and a
checksum.</p>
</div>
<div class="section level3">
<h3 id="dircacheblock">The directory cache block<a class="anchor" aria-label="anchor" href="#dircacheblock"></a>
</h3>
<p>The directory cache block is a block listing the most important
information of files and directories within a specific directory. This
block type was introduced with the <a href="#filesystem">direct cache
mode</a> in Amiga OS 3.0. It basically stores a summary of header block
information of all files in a specific directory at a central place,
making directory listing faster.</p>
<p>There is no backward compatibility for the directory cache mode,
meaning that OS versions &lt;3.0 are not able to read disks that are
formatted in this mode. The directory cache mode is always used in
combination with the ‘<a href="#filesystem">international mode</a>’.</p>
</div>
</div>
<div class="section level2">
<h2 id="examples">Examples<a class="anchor" aria-label="anchor" href="#examples"></a>
</h2>
<p>The package contains an example of an <code>amigaDisk</code> object,
which is formatted with the old <a href="#filesystem">file system</a>
and a <a href="#bootblock">bootable bootblock</a>. Files and directories
in the root directory can easily be listed.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/list.adf.files.html">list.adf.files</a></span><span class="op">(</span><span class="va">adf.example</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "Devs" "S"    "this" "mods"</span></span></code></pre>
<p>The disk also contains a file called ‘Startup-Sequence’. This
executable script file that is run when the disk is booted from the
disk. It is comparable with the (probably better known) ‘autoexec.bat’
files on IBM PC DOS systems. Let’s have a little peek at this file.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## get the file from the amigaDisk object:</span></span>
<span><span class="va">startup</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get.adf.file.html">get.adf.file</a></span><span class="op">(</span><span class="va">adf.example</span>, <span class="st">"df0:s/Startup-Sequence"</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## the file content is returned as raw data.</span></span>
<span><span class="co">## let's convert it to text:</span></span>
<span><span class="va">startup</span> <span class="op">&lt;-</span> <span class="va">startup</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/base/rawConversion.html" class="external-link">rawToChar</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/base/iconv.html" class="external-link">iconv</a></span><span class="op">(</span>from <span class="op">=</span> <span class="st">"ISO-8859-1"</span>, to <span class="op">=</span> <span class="st">"UTF-8"</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## let's show it</span></span>
<span><span class="co">#cat(startup)</span></span></code></pre></div>
<p>As you can see this startup sequence contains mostly some comments
and will print (Echo) some text to the command line interface and
doesn’t do more than that.</p>
<p>There is currently little support for Amiga file types in R. An
exception is the ProTracker module format, as shown in the following
example.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## first get the file as raw data.</span></span>
<span><span class="va">mod.raw</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get.adf.file.html">get.adf.file</a></span><span class="op">(</span><span class="va">adf.example</span>, <span class="st">"df0:mods/mod.intro"</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## For the rest of the example we need</span></span>
<span><span class="co">## the ProTrackR package</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/ns-load.html" class="external-link">requireNamespace</a></span><span class="op">(</span><span class="st">"ProTrackR"</span>, quietly <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">con</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rawConnection.html" class="external-link">rawConnection</a></span><span class="op">(</span><span class="va">mod.raw</span>, <span class="st">"rb"</span><span class="op">)</span></span>
<span></span>
<span>  <span class="co">## and read it as a ProTracker module</span></span>
<span>  <span class="va">mod</span> <span class="op">&lt;-</span> <span class="fu">ProTrackR</span><span class="fu">::</span><span class="fu"><a href="https://pepijn-devries.github.io/ProTrackR/reference/read.module.html" class="external-link">read.module</a></span><span class="op">(</span><span class="va">con</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/connections.html" class="external-link">close</a></span><span class="op">(</span><span class="va">con</span><span class="op">)</span></span>
<span></span>
<span>  <span class="co">## plot the first sample from the module:</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>mar <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">4</span>, <span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span> <span class="op">+</span> <span class="fl">0.1</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu">ProTrackR</span><span class="fu">::</span><span class="fu"><a href="https://pepijn-devries.github.io/ProTrackR/reference/waveform.html" class="external-link">waveform</a></span><span class="op">(</span><span class="fu">ProTrackR</span><span class="fu">::</span><span class="fu"><a href="https://pepijn-devries.github.io/ProTrackR/reference/PTSample-class.html" class="external-link">PTSample</a></span><span class="op">(</span><span class="va">mod</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span>,</span>
<span>       type <span class="op">=</span> <span class="st">"l"</span>, ylab <span class="op">=</span> <span class="st">"Amplitude"</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="co">## and to play it, uncomment the following line:</span></span>
<span>  <span class="co">## ProTrackR::playMod(mod)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p><img src="amigaDiskFiles_files/figure-html/unnamed-chunk-11-1.png" width="700"></p>
<p>The examples above show how information can be retrieved from a
virtual Amiga disk. It is also possible to put data onto the disk. Let’s
start by creating a temporary directory:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">adf.example</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dir.create.adf.html">dir.create.adf</a></span><span class="op">(</span><span class="va">adf.example</span>, <span class="st">"temp"</span><span class="op">)</span></span></code></pre></div>
<p>You can also put files from your local system into this newly created
directory. Let’s try to put the ‘DESCRIPTION’ file from adfExplorer
package on the virtual disk:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">adf.example</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/put.adf.file.html">put.adf.file</a></span><span class="op">(</span><span class="va">adf.example</span>,</span>
<span>                            <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"DESCRIPTION"</span>, package <span class="op">=</span> <span class="st">"adfExplorer"</span><span class="op">)</span>,</span>
<span>                            <span class="st">"DF0:temp"</span><span class="op">)</span></span></code></pre></div>
<p>It is also possible to write raw data to the virtual disk in a
similar way:</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">adf.example</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/put.adf.file.html">put.adf.file</a></span><span class="op">(</span><span class="va">adf.example</span>,</span>
<span>                            <span class="fu"><a href="https://rdrr.io/r/base/rawConversion.html" class="external-link">charToRaw</a></span><span class="op">(</span><span class="st">"This is just some text to create some content"</span><span class="op">)</span>,</span>
<span>                            <span class="st">"DF0:temp/example.txt"</span><span class="op">)</span></span></code></pre></div>
<p>Look here are the files we just put onto the disk</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/list.adf.files.html">list.adf.files</a></span><span class="op">(</span><span class="va">adf.example</span>, <span class="st">"DF0:temp/"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "example.txt" "DESCRIPTION"</span></span></code></pre>
<p>We can even get more detailed information on those files with:</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/file.info.html">adf.file.info</a></span><span class="op">(</span><span class="va">adf.example</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"DF0:temp/"</span>, <span class="fu"><a href="../reference/list.adf.files.html">list.adf.files</a></span><span class="op">(</span><span class="va">adf.example</span>, <span class="st">"DF0:temp/"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##             size isdir                     mode               mtime</span></span>
<span><span class="co">## example.txt   45 FALSE DEWR-------------------- 2024-12-16 14:17:37</span></span>
<span><span class="co">## DESCRIPTION 1271 FALSE DEWR-------------------- 2024-12-16 14:17:37</span></span>
<span><span class="co">##                           ctime               atime  exe</span></span>
<span><span class="co">## example.txt 2024-12-16 14:17:37 2024-12-16 14:17:37 TRUE</span></span>
<span><span class="co">## DESCRIPTION 2024-12-16 14:17:37 2024-12-16 14:17:37 TRUE</span></span></code></pre>
<p>Wait, are these executable files? No, they are not, they are just
labelled as such by default by Amiga OS. We can explicitly set the files
as non-executable:</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/file.info.html">adf.file.mode</a></span><span class="op">(</span><span class="va">adf.example</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"DF0:temp/"</span>, <span class="fu"><a href="../reference/list.adf.files.html">list.adf.files</a></span><span class="op">(</span><span class="va">adf.example</span>, <span class="st">"DF0:temp/"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>E <span class="op">=</span> <span class="cn">F</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/file.info.html">adf.file.info</a></span><span class="op">(</span><span class="va">adf.example</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"DF0:temp/"</span>, <span class="fu"><a href="../reference/list.adf.files.html">list.adf.files</a></span><span class="op">(</span><span class="va">adf.example</span>, <span class="st">"DF0:temp/"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##             size isdir                     mode               mtime</span></span>
<span><span class="co">## example.txt   45 FALSE D-WR-------------------- 2024-12-16 14:17:37</span></span>
<span><span class="co">## DESCRIPTION 1271 FALSE D-WR-------------------- 2024-12-16 14:17:37</span></span>
<span><span class="co">##                           ctime               atime   exe</span></span>
<span><span class="co">## example.txt 2024-12-16 14:17:37 2024-12-16 14:17:37 FALSE</span></span>
<span><span class="co">## DESCRIPTION 2024-12-16 14:17:37 2024-12-16 14:17:37 FALSE</span></span></code></pre>
<p>Do you regret putting these file on the virtual disk? Just delete
them:</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">adf.example</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu"><a href="../reference/adf.file.remove.html">adf.file.remove</a></span><span class="op">(</span><span class="va">adf.example</span>, <span class="st">"DF0:temp"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/list.adf.files.html">list.adf.files</a></span><span class="op">(</span><span class="va">adf.example</span>, <span class="st">"DF0:"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "Devs" "S"    "this" "mods"</span></span></code></pre>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Pepijn de Vries.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
