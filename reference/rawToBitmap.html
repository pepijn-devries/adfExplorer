<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Convert raw data into a bitmap or vice versa (i.e., binary data)
conform Amiga specifications."><title>Convert raw data into a bitmap or vice versa — rawToBitmap • adfExplorer</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Convert raw data into a bitmap or vice versa — rawToBitmap"><meta property="og:description" content="Convert raw data into a bitmap or vice versa (i.e., binary data)
conform Amiga specifications."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">adfExplorer</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.7</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/amigaDiskFiles.html">Amiga Disk File Explorer</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/pepijn-devries/adfExplorer/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Convert raw data into a bitmap or vice versa</h1>
      <small class="dont-index">Source: <a href="https://github.com/pepijn-devries/adfExplorer/blob/HEAD/R/01genericSupport.r" class="external-link"><code>R/01genericSupport.r</code></a></small>
      <div class="d-none name"><code>rawToBitmap.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Convert raw data into a bitmap or vice versa (i.e., binary data)
conform Amiga specifications.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">rawToBitmap</span><span class="op">(</span><span class="va">x</span>, invert.bytes <span class="op">=</span> <span class="cn">F</span>, invert.longs <span class="op">=</span> <span class="cn">T</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">bitmapToRaw</span><span class="op">(</span><span class="va">x</span>, invert.bytes <span class="op">=</span> <span class="cn">T</span>, invert.longs <span class="op">=</span> <span class="cn">T</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>x</dt>
<dd><p>A <code>vector</code> of <code>raw</code> data, in case
<code>rawToBitmap</code> is used. A <code>vector</code> of <code>raw</code>,
<code>interger</code> or <code>logical</code> values should be used in
case of <code>bitmapToRaw</code>. In the latter case each value in the
<code>vector</code> is interpreted as a bit and should be a multiple of
8 long.</p></dd>


<dt>invert.bytes</dt>
<dd><p>A <code>logical</code> value. When set to <code>TRUE</code>,
the bit order of bytes are reversed.</p></dd>


<dt>invert.longs</dt>
<dd><p>A <code>logical</code> value. When set to <code>TRUE</code>,
the bit order of long values (32 bits) are reversed. When <code>x</code>
does not have a multiple length of 32 bits or 4 bytes, <code>x</code> will
be padded with zeros to the right, but the result will be trimmed to
correspond with the length of <code>x</code>. Note that data might get lost
this way.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>Returns a <code>vector</code> of <code>raw</code> data in case of
<code>bitmapToRaw</code>, and a <code>vector</code> of binary <code>raw</code> values
in case of <code>rawToBitmap</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>A bitmap is simply put a map of bits (binary data, which can
be interpeted as 0 or 1; or FALSE and TRUE). Bitmaps can have
several purposes, also on the Commodore Amiga. The Amiga file
system uses a bitmap to indicates which blocks are occupied with
data and which are free. Bitmaps can also be used in bitmap images
where each bit indicates which color should be used for a specific
pixel in an image. These function can be used to convert raw data
into usable bitmaps or vice versa.</p>
<p>As the Commodore Amiga is a big-endian system (most significant
bit first) using a 32 bit CPU, it may sometimes necessary to invert
the bits of a byte or longs (4 bytes, 32 bits), which can be done
with the arguments '<code>invert.bytes</code>' and '<code>invert.longs</code>'
respectively.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other raw.operations: 
<code><a href="amigaDateToRaw.html">amigaDateToRaw</a>()</code>,
<code><a href="amigaIntToRaw.html">amigaIntToRaw</a>()</code>,
<code><a href="displayRawData.html">displayRawData</a>()</code>,
<code><a href="rawToAmigaDate.html">rawToAmigaDate</a>()</code>,
<code><a href="rawToAmigaInt.html">rawToAmigaInt</a>()</code></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Pepijn de Vries</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">## The bitmap block of the example disk is located at block</span></span></span>
<span class="r-in"><span><span class="co">## number 882 (note that this is not true for all disks,</span></span></span>
<span class="r-in"><span><span class="co">## the actual location is stored in the root block)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">adf.example</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">bitmap.block</span> <span class="op">&lt;-</span> <span class="fu"><a href="amigaBlock-class.html">amigaBlock</a></span><span class="op">(</span><span class="va">adf.example</span>, <span class="fl">881</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## bitmap data are stored in bytes 5 up to 224 in this block:</span></span></span>
<span class="r-in"><span><span class="va">bitmap.raw</span> <span class="op">&lt;-</span> <span class="va">bitmap.block</span><span class="op">@</span><span class="va">data</span><span class="op">[</span><span class="fl">5</span><span class="op">:</span><span class="fl">224</span><span class="op">]</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## let's get the bitmap from the raw data:</span></span></span>
<span class="r-in"><span><span class="va">bitmap</span> <span class="op">&lt;-</span> <span class="fu">rawToBitmap</span><span class="op">(</span><span class="va">bitmap.raw</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Whe can now get the occupied blocks (minus one is used for</span></span></span>
<span class="r-in"><span><span class="co">## the discrepancy in indexing):</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/which.html" class="external-link">which</a></span><span class="op">(</span><span class="va">bitmap</span> <span class="op">!=</span> <span class="fu"><a href="https://rdrr.io/r/base/raw.html" class="external-link">as.raw</a></span><span class="op">(</span><span class="fl">0x01</span><span class="op">)</span><span class="op">)</span> <span class="op">-</span> <span class="fl">1</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 878 879 880 881 882 883 884 885 886 887 888 889 890 891 892 893 894 895 896</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [20] 897 898 899 900 901 902 903 904 905 906 907 908 909 913 914 915</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## we can also do the reverse:</span></span></span>
<span class="r-in"><span><span class="va">bitmap.raw.new</span> <span class="op">&lt;-</span>  <span class="fu">bitmapToRaw</span><span class="op">(</span><span class="va">bitmap</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">## it should be the same as the original raw data:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/all.html" class="external-link">all</a></span><span class="op">(</span><span class="va">bitmap.raw.new</span> <span class="op">==</span> <span class="va">bitmap.raw</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## WARNING: don't use these methods to directly</span></span></span>
<span class="r-in"><span><span class="co">## modify an amigaDisk objects bitmap block. The</span></span></span>
<span class="r-in"><span><span class="co">## file system on that object may get corrupted.</span></span></span>
<span class="r-in"><span><span class="co">## All methods in this package should update the</span></span></span>
<span class="r-in"><span><span class="co">## bitmap block automatically and cleanly...</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Pepijn de Vries.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

