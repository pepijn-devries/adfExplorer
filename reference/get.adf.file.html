<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Get a file from an amigaDisk object — get.adf.file • adfExplorer</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Get a file from an amigaDisk object — get.adf.file"><meta name="description" content="Get files stored on virtual amigaDisks as raw data
or copy as file."><meta property="og:description" content="Get files stored on virtual amigaDisks as raw data
or copy as file."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">adfExplorer</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.8</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/amigaDiskFiles.html">Amiga Disk File Explorer</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/pepijn-devries/adfExplorer/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Get a file from an amigaDisk object</h1>
      <small class="dont-index">Source: <a href="https://github.com/pepijn-devries/adfExplorer/blob/master/R/02amigaDiskBasics.r" class="external-link"><code>R/02amigaDiskBasics.r</code></a></small>
      <div class="d-none name"><code>get.adf.file.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Get files stored on virtual <code><a href="amigaDisk-class.html">amigaDisk</a></code>s as raw data
or copy as file.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S4 method for class 'amigaDisk,character,missing'</span></span>
<span><span class="fu">get.adf.file</span><span class="op">(</span><span class="va">x</span>, <span class="va">source</span>, <span class="va">destination</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'amigaDisk,character,character'</span></span>
<span><span class="fu">get.adf.file</span><span class="op">(</span><span class="va">x</span>, <span class="va">source</span>, <span class="va">destination</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'amigaDisk,character,ANY'</span></span>
<span><span class="fu">get.adf.file</span><span class="op">(</span><span class="va">x</span>, <span class="va">source</span>, <span class="va">destination</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>An <code><a href="amigaDisk-class.html">amigaDisk</a></code> object from which a file
needs to be extracted.</p></dd>


<dt id="arg-source">source<a class="anchor" aria-label="anchor" href="#arg-source"></a></dt>
<dd><p>Specify the source file's path on the
<code><a href="amigaDisk-class.html">amigaDisk</a></code> object, conform Amiga specs. See
<code><a href="current.adf.dir.html">current.adf.dir</a></code> for details on these specs.</p></dd>


<dt id="arg-destination">destination<a class="anchor" aria-label="anchor" href="#arg-destination"></a></dt>
<dd><p>either a file name or a file connection, that
allows writing binary data (see e.g., <code><a href="https://rdrr.io/r/base/connections.html" class="external-link">file</a></code> or
<code><a href="https://rdrr.io/r/base/connections.html" class="external-link">url</a></code>). When the destination is missing, the
file content is returned as <code>raw</code> data.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Returns a <code>vector</code> of <code>raw</code> data when the
argument <code>destination</code> is missing. Otherwise returns nothing.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Amiga DOS formatted disks can store any kind of file (as long
as the disk's capacity allows it). Use this method to extract
such files embedded in an Amiga Disk File (ADF) as raw data or
copy to a file on your system.</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Pepijn de Vries</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">adf.example</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co">## get the file "Startup-Sequence" from the virtual</span></span></span>
<span class="r-in"><span><span class="co">## example disk and save as a text file in the</span></span></span>
<span class="r-in"><span><span class="co">## current working directory:</span></span></span>
<span class="r-in"><span><span class="fu">get.adf.file</span><span class="op">(</span><span class="va">adf.example</span>, <span class="st">"DF0:S/Startup-Sequence"</span>, <span class="st">"startup.txt"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## get the same file as raw data</span></span></span>
<span class="r-in"><span><span class="co">## by omitting the destination:</span></span></span>
<span class="r-in"><span><span class="va">startup</span> <span class="op">&lt;-</span> <span class="fu">get.adf.file</span><span class="op">(</span><span class="va">adf.example</span>, <span class="st">"DF0:S/Startup-Sequence"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Look, it's a text file:</span></span></span>
<span class="r-in"><span><span class="va">startup</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/base/rawConversion.html" class="external-link">rawToChar</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/base/iconv.html" class="external-link">iconv</a></span><span class="op">(</span>from <span class="op">=</span> <span class="st">"ISO-8859-1"</span>, to <span class="op">=</span> <span class="st">"UTF-8"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "; The Startup-Sequence is executed after booting\n; Everything after semicolons are comments and is ignored\n; By default standard commands are loaded from\n; the ROM kickstart. Additional commands should be\n; stored on the disk in the SYS:C directory.\n; For demonstration purposes we only echo some\n; text to the screen... Note that this will not\n; work on Amiga OS &lt;2.0 as \"Echo\" is not available\n; in older ROM kickstart versions.\n\nEcho \"\033c\033[22m\033[32mADF Explorer Example Disk\" ; Note that the weird characters at the start are escape-codes to format the text\nEcho \"\033[0mThis disk was created as an example for the\"\nEcho \"R package 'adfExplorer' by Pepijn de Vries.\""</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/ns-load.html" class="external-link">requireNamespace</a></span><span class="op">(</span><span class="st">"ProTrackR"</span>, quietly <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="co">## look there is a typical ProTracker module on</span></span></span>
<span class="r-in"><span>  <span class="co">## the example disk. You can load it like this:</span></span></span>
<span class="r-in"><span>  </span></span>
<span class="r-in"><span>  <span class="co">## get the file from the virtual disk</span></span></span>
<span class="r-in"><span>  <span class="co">## as raw data</span></span></span>
<span class="r-in"><span>  <span class="va">mod.raw</span> <span class="op">&lt;-</span> <span class="fu">get.adf.file</span><span class="op">(</span><span class="va">adf.example</span>, <span class="st">"DF0:mods/mod.intro"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co">## open a raw connection with the</span></span></span>
<span class="r-in"><span>  <span class="co">## newly imported raw data</span></span></span>
<span class="r-in"><span>  <span class="va">con</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rawConnection.html" class="external-link">rawConnection</a></span><span class="op">(</span><span class="va">mod.raw</span>, <span class="st">"rb"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co">## and read it as a ProTracker module</span></span></span>
<span class="r-in"><span>  <span class="va">mod</span> <span class="op">&lt;-</span> <span class="fu">ProTrackR</span><span class="fu">::</span><span class="fu"><a href="https://pepijn-devries.github.io/ProTrackR/reference/read.module.html" class="external-link">read.module</a></span><span class="op">(</span><span class="va">con</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/connections.html" class="external-link">close</a></span><span class="op">(</span><span class="va">con</span><span class="op">)</span></span></span>
<span class="r-in"><span>  </span></span>
<span class="r-in"><span>  <span class="co">## plot the first sample from the module:</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu">ProTrackR</span><span class="fu">::</span><span class="fu"><a href="https://pepijn-devries.github.io/ProTrackR/reference/waveform.html" class="external-link">waveform</a></span><span class="op">(</span><span class="fu">ProTrackR</span><span class="fu">::</span><span class="fu"><a href="https://pepijn-devries.github.io/ProTrackR/reference/PTSample-class.html" class="external-link">PTSample</a></span><span class="op">(</span><span class="va">mod</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>       type <span class="op">=</span> <span class="st">"l"</span>, ylab <span class="op">=</span> <span class="st">"amplitude"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"You need to install and load the\nProTrackR package for this part of the example."</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-plt img"><img src="get.adf.file-1.png" alt="" width="700" height="433"></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Pepijn de Vries.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

